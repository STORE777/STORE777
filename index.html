<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Store777 Premium</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
      color: #ffffff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh;
    }
    
    html, body { height: 100%; }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    @keyframes shine {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .float-animation { animation: float 6s ease-in-out infinite; }
    .shine-animation { animation: shine 3s ease-in-out infinite; }
    .pulse-animation { animation: pulse 4s ease-in-out infinite; }
    .slide-in { animation: slideIn 0.8s ease-out forwards; }

    .glass-effect {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 16px;
    }

    .gradient-text {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #92400e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    header {
      padding: 20px 0;
      position: sticky; top: 0; z-index: 10;
    }

    .header-container {
      max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px;
    }

    .logo {
      font-size: 2.2rem; font-weight: bold; display: flex; align-items: center; gap: 10px;
    }

    .nav-categories {
      display: flex; gap: 15px; flex-wrap: wrap;
    }

    .nav-categories a {
      color: #fff; text-decoration: none; padding: 10px 18px; border-radius: 50px; transition: all 0.3s;
      background: rgba(255,255,255,0.1); backdrop-filter: blur(8px);
    }

    .nav-categories a:hover, .nav-categories a.active {
      background: linear-gradient(135deg, #f59e0b, #d97706); color: #fff;
    }

    .admin-btn {
      background: linear-gradient(135deg, #e50914, #c40811);
      color: white; border: none; padding: 12px 24px; border-radius: 50px; cursor: pointer; font-weight: bold;
      box-shadow: 0 4px 15px rgba(229, 9, 20, 0.4);
    }

    .admin-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(229, 9, 20, 0.6); }

    main { max-width: 1200px; margin: 40px auto; padding: 0 20px; }

    .hero {
      text-align: center; margin-bottom: 50px; padding: 40px 20px;
      background: rgba(255,255,255,0.05); border-radius: 20px; backdrop-filter: blur(10px);
    }

    .hero h1 {
      font-size: 3.8rem; margin-bottom: 15px; font-weight: 800;
    }

    .hero p {
      font-size: 1.3rem; color: #b3b3b3; max-width: 700px; margin: 0 auto;
    }

    #products {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px;
    }

    .product-card {
      background: rgba(255,255,255,0.08); border-radius: 20px; overflow: hidden;
      transition: all 0.4s; box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1);
    }

    .product-card:hover {
      transform: translateY(-15px); box-shadow: 0 15px 40px rgba(229, 9, 20, 0.3);
    }

    .product-img {
      width: 100%; height: 220px; object-fit: cover; border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .product-info {
      padding: 25px;
    }

    .product-category {
      font-size: 0.85rem; color: #f59e0b; margin-bottom: 8px; font-weight: 600;
    }

    .product-title {
      font-size: 1.6rem; margin-bottom: 12px; font-weight: 700;
    }

    .product-price {
      font-size: 1.5rem; color: #f59e0b; font-weight: bold; margin: 15px 0;
    }

    .buy-btn {
      width: 100%; background: linear-gradient(135deg, #25d366, #128c7e); color: white;
      border: none; padding: 14px; border-radius: 50px; cursor: pointer; font-weight: bold;
      transition: all 0.3s;
    }

    .buy-btn:hover {
      background: linear-gradient(135deg, #128c7e, #25d366); transform: scale(1.03);
    }

    .modal {
      display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center;
      backdrop-filter: blur(8px);
    }

    .modal-content {
      background: rgba(26,26,26,0.95); padding: 35px; border-radius: 20px;
      max-width: 520px; width: 90%; max-height: 85vh; overflow-y: auto;
      border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    }

    .close {
      float: right; font-size: 2.2rem; cursor: pointer; color: #b3b3b3;
    }

    input, textarea, select {
      width: 100%; padding: 14px; margin: 12px 0; background: rgba(51,51,51,0.8);
      border: 1px solid rgba(255,255,255,0.2); color: white; border-radius: 12px;
      font-size: 1rem;
    }

    footer {
      text-align: center; padding: 30px; margin-top: 80px; color: #666; font-size: 0.9rem;
    }

    .whatsapp-btn {
      position: fixed; bottom: 25px; right: 25px; background: #25d366; color: white;
      width: 65px; height: 65px; border-radius: 50%; display: flex; align-items: center;
      justify-content: center; font-size: 1.8rem; box-shadow: 0 6px 20px rgba(37,211,102,0.4);
      animation: pulse 2s infinite; z-index: 999;
    }

    .whatsapp-btn:hover { transform: scale(1.15); }

    #dashboard {
      display: none; background: rgba(26,26,26,0.9); padding: 35px; border-radius: 20px;
      margin-top: 50px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1);
    }

    .stat-card {
      background: linear-gradient(135deg, #e50914, #c40811); padding: 25px; border-radius: 16px;
      text-align: center; flex: 1; min-width: 150px;
    }

    .dashboard-stats {
      display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;
    }

    .search-bar {
      background: rgba(51,51,51,0.8); border: 1px solid rgba(255,255,255,0.2);
      padding: 14px; border-radius: 12px; color: white; width: 100%; margin-bottom: 20px;
    }

    .dashboard-table {
      width: 100%; border-collapse: collapse; margin-top: 20px;
    }

    .dashboard-table th, .dashboard-table td {
      padding: 15px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .btn {
      background: linear-gradient(135deg, #f59e0b, #d97706); color: white; border: none;
      padding: 12px 24px; border-radius: 50px; cursor: pointer; font-weight: bold;
      margin: 5px;
    }

    .btn:hover { transform: translateY(-2px); }
  </style>
</head>
<body>

  <header>
    <div class="header-container">
      <a href="#" class="logo slide-in">
        <i class="fas fa-crown float-animation" style="color: #f59e0b;"></i>
        <span class="gradient-text">Store777 Premium</span>
      </a>
      <nav class="nav-categories slide-in">
        <a href="#" class="category-link active" data-category="all">Todos</a>
        <a href="#" class="category-link" data-category="ebooks">eBooks</a>
        <a href="#" class="category-link" data-category="cursos">Cursos</a>
        <a href="#" class="category-link" data-category="apps">Apps</a>
        <a href="#" class="category-link" data-category="licencas">Licenças</a>
      </nav>
      <button class="admin-btn pulse-animation" onclick="openAdminModal()">Admin</button>
    </div>
  </header>

  <main>
    <section class="hero glass-effect slide-in">
      <h1 class="gradient-text">Seus Produtos Digitais com Estilo e Segurança</h1>
      <p>Pague com Cacto e receba na hora. Cursos, eBooks, licenças e mais.</p>
    </section>

    <section id="products" class="slide-in"></section>

    <section id="dashboard" class="glass-effect">
      <h2 class="gradient-text">Dashboard Admin</h2>
      <button class="btn" onclick="logoutAdmin()">Logout</button>
      <div class="dashboard-stats">
        <div class="stat-card">
          <h3>Total de Produtos</h3>
          <p id="totalProducts" class="text-2xl font-bold">0</p>
        </div>
        <div class="stat-card">
          <h3>Categorias</h3>
          <p id="totalCategories" class="text-2xl font-bold">0</p>
        </div>
      </div>
      <input type="text" id="searchBar" class="search-bar" placeholder="Buscar produtos...">
      <table class="dashboard-table">
        <thead>
          <tr>
            <th>Título</th>
            <th>Categoria</th>
            <th>Preço</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody id="productList"></tbody>
      </table>
      <button class="btn" onclick="openProductModal()">+ Novo Produto</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Store777 Premium. Todos os direitos reservados. | Suporte: admin@store777.com</p>
  </footer>

  <!-- Modal Admin -->
  <div id="adminModal" class="modal">
    <div class="modal-content glass-effect">
      <span class="close" onclick="closeAdminModal()">&times;</span>
      <h2 class="gradient-text">Login Admin</h2>
      <input type="email" id="adminEmail" placeholder="Email">
      <input type="password" id="adminPass" placeholder="Senha">
      <button class="btn" onclick="loginAdmin()">Entrar</button>
    </div>
  </div>

  <!-- Modal Produto -->
  <div id="productModal" class="modal">
    <div class="modal-content glass-effect">
      <span class="close" onclick="closeProductModal()">&times;</span>
      <h2 class="gradient-text">Cadastrar Produto</h2>
      <input type="text" id="title" placeholder="Título">
      <textarea id="description" placeholder="Descrição"></textarea>
      <input type="number" id="price" placeholder="Preço R$" step="0.01">
      <input type="url" id="imageUrl" placeholder="URL da Imagem">
      <input type="url" id="checkoutLink" placeholder="Link Cacto">
      <select id="category">
        <option value="all">Geral</option>
        <option value="ebooks">eBooks</option>
        <option value="cursos">Cursos</option>
        <option value="apps">Apps</option>
        <option value="licencas">Licenças</option>
      </select>
      <button class="btn" onclick="addProduct()">Salvar</button>
    </div>
  </div>

  <a href="https://wa.me/5511999999999" class="whatsapp-btn" target="_blank">
    <i class="fab fa-whatsapp"></i>
  </a>

  <script>
    const ADMIN_EMAIL = 'admin@store777.com';
    const ADMIN_PASSWORD = '@Nego159';
    let isLoggedIn = false;
    let products = JSON.parse(localStorage.getItem('store777Products') || '[]');

    function loadProducts(filter = 'all') {
      const container = document.getElementById('products');
      container.innerHTML = '';
      const filtered = filter === 'all' ? products : products.filter(p => p.category === filter);
      if (filtered.length === 0) {
        container.innerHTML = '<p style="text-align:center; color:#b3b3b3; grid-column:1/-1;">Nenhum produto aqui.</p>';
        return;
      }
      filtered.forEach(p => {
        const card = document.createElement('div');
        card.className = 'product-card glass-effect';
        card.innerHTML = `
          <img src="${p.imageUrl}" class="product-img" onerror="this.src='https://via.placeholder.com/300x220?text=Sem+Imagem'">
          <div class="product-info">
            <div class="product-category">${p.category.toUpperCase()}</div>
            <h3 class="product-title">${p.title}</h3>
            <p>${p.description.substring(0, 90)}...</p>
            <div class="product-price">R$ ${p.price}</div>
            <button class="buy-btn" onclick="window.open('${p.checkoutLink}', '_blank')">Comprar</button>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function openAdminModal() {
      if (isLoggedIn) openProductModal();
      else document.getElementById('adminModal').style.display = 'flex';
    }

    function closeAdminModal() { document.getElementById('adminModal').style.display = 'none'; }
    function closeProductModal() { document.getElementById('productModal').style.display = 'none'; }

    function loginAdmin() {
      const email = document.getElementById('adminEmail').value;
      const pass = document.getElementById('adminPass').value;
      if (email === ADMIN_EMAIL && pass === ADMIN_PASSWORD) {
        isLoggedIn = true;
        closeAdminModal();
        alert('Login OK!');
        document.querySelector('.admin-btn').innerHTML = 'Dashboard';
        document.querySelector('.admin-btn').onclick = () => document.getElementById('dashboard').style.display = 'block';
        loadDashboard();
      } else alert('Erro!');
    }

    function loadDashboard() {
      document.getElementById('totalProducts').innerText = products.length;
      document.getElementById('totalCategories').innerText = new Set(products.map(p => p.category)).size;
      const list = document.getElementById('productList');
      list.innerHTML = '';
      products.forEach((p, i) => {
        list.innerHTML += `<tr>
          <td>${p.title}</td>
          <td>${p.category}</td>
          <td>R$ ${p.price}</td>
          <td>
            <button class="btn" onclick="editProduct(${i})">Editar</button>
            <button class="btn" style="background:#e50914" onclick="deleteProduct(${i})">Excluir</button>
          </td>
        </tr>`;
      });
    }

    function editProduct(i) {
      const p = products[i];
      document.getElementById('title').value = p.title;
      document.getElementById('description').value = p.description;
      document.getElementById('price').value = p.price;
      document.getElementById('imageUrl').value = p.imageUrl;
      document.getElementById('checkoutLink').value = p.checkoutLink;
      document.getElementById('category').value = p.category;
      openProductModal();
      const btn = document.querySelector('#productModal .btn');
      btn.onclick = () => { updateProduct(i); btn.onclick = addProduct; };
    }

    function updateProduct(i) {
      products[i] = {
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        price: document.getElementById('price').value,
        imageUrl: document.getElementById('imageUrl').value,
        checkoutLink: document.getElementById('checkoutLink').value,
        category: document.getElementById('category').value
      };
      localStorage.setItem('store777Products', JSON.stringify(products));
      closeProductModal();
      loadProducts();
      loadDashboard();
      alert('Atualizado!');
      document.querySelectorAll('#productModal input, #productModal textarea, #productModal select').forEach(el => el.value = '');
    }

    function deleteProduct(i) {
      if (confirm('Excluir?')) {
        products.splice(i, 1);
        localStorage.setItem('store777Products', JSON.stringify(products));
        loadProducts();
        loadDashboard();
      }
    }

    function addProduct() {
      const p = {
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        price: document.getElementById('price').value,
        imageUrl: document.getElementById('imageUrl').value,
        checkoutLink: document.getElementById('checkoutLink').value,
        category: document.getElementById('category').value
      };
      if (Object.values(p).some(v => !v)) return alert('Preencha tudo!');
      products.push(p);
      localStorage.setItem('store777Products', JSON.stringify(products));
      closeProductModal();
      loadProducts();
      loadDashboard();
      alert('Adicionado!');
      document.querySelectorAll('#productModal input, #productModal textarea, #productModal select').forEach(el => el.value = '');
    }

    function logoutAdmin() {
      isLoggedIn = false;
      document.querySelector('.admin-btn').innerHTML = 'Admin';
      document.querySelector('.admin-btn').onclick = openAdminModal;
      document.getElementById('dashboard').style.display = 'none';
    }

    document.querySelectorAll('.category-link').forEach(l => {
      l.addEventListener('click', e => {
        e.preventDefault();
        document.querySelectorAll('.category-link').forEach(x => x.classList.remove('active'));
        e.target.classList.add('active');
        loadProducts(e.target.dataset.category);
      });
    });

    document.getElementById('searchBar')?.addEventListener('input', e => {
      const term = e.target.value.toLowerCase();
      document.querySelectorAll('#productList tr').forEach(tr => {
        tr.style.display = tr.textContent.toLowerCase().includes(term) ? '' : 'none';
      });
    });

    window.addEventListener('load', () => loadProducts());
  </script>
</body>
</html>
