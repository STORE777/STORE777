<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Store777 Premium - Produtos Digitais com Estilo</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    
    html, body {
      height: 100%;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-20px); }
    }

    @keyframes shine {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .float-animation {
      animation: float 6s ease-in-out infinite;
    }

    .shine-animation {
      animation: shine 3s ease-in-out infinite;
    }

    .pulse-animation {
      animation: pulse 4s ease-in-out infinite;
    }

    .slide-in {
      animation: slideIn 0.8s ease-out forwards;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }

    .gradient-text {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 50%, #92400e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --accent: #e50914;
      --text-light: #ffffff;
      --text-muted: #b3b3b3;
      --card-shadow: 0 4px 20px rgba(229, 9, 20, 0.2);
      --transition: all 0.3s ease;
    }

    header {
      background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
      padding: 20px 0;
      position: sticky; top: 0; z-index: 10;
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }
    .header-container {
      max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px;
    }
    .logo {
      font-size: 2rem; font-weight: bold; color: var(--accent); text-decoration: none;
    }
    .logo i { margin-right: 10px; }
    .nav-categories {
      display: flex; gap: 20px;
    }
    .nav-categories a {
      color: var(--text-light); text-decoration: none; padding: 10px 15px; border-radius: 5px; transition: var(--transition);
    }
    .nav-categories a:hover, .nav-categories a.active {
      background: var(--accent); color: #fff;
    }
    .admin-btn {
      background: var(--accent); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; transition: var(--transition);
    }
    .admin-btn:hover { opacity: 0.9; }
    main {
      max-width: 1200px; margin: 40px auto; padding: 0 20px;
    }
    .hero {
      text-align: center; margin-bottom: 40px;
    }
    .hero h1 { font-size: 3.5rem; margin-bottom: 10px; color: var(--accent); }
    .hero p { font-size: 1.2rem; color: var(--text-muted); }
    #products {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;
    }
    .product-card {
      background: var(--bg-secondary); border-radius: 12px; overflow: hidden; transition: var(--transition); box-shadow: var(--card-shadow);
    }
    .product-card:hover { transform: translateY(-10px); box-shadow: 0 8px 30px rgba(229, 9, 20, 0.3); }
    .product-img {
      width: 100%; height: 250px; object-fit: cover;
    }
    .product-info {
      padding: 20px;
    }
    .product-category { font-size: 0.8rem; color: var(--accent); margin-bottom: 10px; }
    .product-title { font-size: 1.5rem; margin-bottom: 10px; }
    .product-price { font-size: 1.3rem; color: var(--accent); font-weight: bold; margin-bottom: 15px; }
    .buy-btn {
      width: 100%; background: var(--accent); color: white; border: none; padding: 12px; border-radius: 5px; cursor: pointer; transition: var(--transition);
    }
    .buy-btn:hover { background: #c40811; }
    .modal {
      display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;
    }
    .modal-content {
      background: var(--bg-secondary); padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;
    }
    .close { float: right; font-size: 2rem; cursor: pointer; color: var(--text-muted); }
    input, textarea, select { width: 100%; padding: 12px; margin: 10px 0; background: #333; border: 1px solid #444; color: var(--text-light); border-radius: 5px; }
    footer {
      background: var(--bg-primary); text-align: center; padding: 20px; margin-top: 60px; color: var(--text-muted);
    }
    .whatsapp-btn {
      position: fixed; bottom: 20px; right: 20px; background: #25d366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.3); transition: var(--transition);
    }
    .whatsapp-btn:hover { transform: scale(1.1); }
    @media (max-width: 768px) {
      .nav-categories { flex-wrap: wrap; gap: 10px; }
      .hero h1 { font-size: 2.5rem; }
    }
    #dashboard {
      display: none; 
      background: var(--bg-secondary); padding: 30px; border-radius: 12px; margin-top: 40px; box-shadow: var(--card-shadow);
    }
    .dashboard-section {
      margin-bottom: 30px;
    }
    .dashboard-table {
      width: 100%; border-collapse: collapse;
    }
    .dashboard-table th, .dashboard-table td {
      padding: 12px; border-bottom: 1px solid var(--border); text-align: left;
    }
    .dashboard-stats {
      display: flex; gap: 20px; margin-bottom: 30px;
    }
    .stat-card {
      background: var(--accent); color: white; padding: 20px; border-radius: 8px; flex: 1; text-align: center;
    }
    .search-bar {
      width: 100%; padding: 12px; margin-bottom: 20px; background: #333; border: 1px solid var(--border); color: var(--text-light); border-radius: 5px;
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <a href="#" class="logo"><i class="fas fa-shopping-bag"></i> Store777 Premium</a>
      <nav class="nav-categories">
        <a href="#" class="category-link active" data-category="all">Todos</a>
        <a href="#" class="category-link" data-category="ebooks">eBooks</a>
        <a href="#" class="category-link" data-category="cursos">Cursos</a>
        <a href="#" class="category-link" data-category="apps">Apps</a>
        <a href="#" class="category-link" data-category="licencas">Licenças</a>
      </nav>
      <button class="admin-btn" onclick="openAdminModal()">Admin</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>Seus produtos digitais, com estilo e segurança</h1>
      <p>Descubra eBooks, cursos e mais. Pague com Cacto e receba instantaneamente.</p>
    </section>

    <section id="products"></section>

    <section id="dashboard" class="dashboard-section">
      <h2>Dashboard Admin</h2>
      <button class="btn" onclick="logoutAdmin()">Logout</button>
      <div class="dashboard-stats">
        <div class="stat-card">
          <h3>Produtos Totais</h3>
          <p id="totalProducts">0</p>
        </div>
        <div class="stat-card">
          <h3>Categorias</h3>
          <p id="totalCategories">0</p>
        </div>
      </div>
      <input type="text" id="searchBar" class="search-bar" placeholder="Buscar produtos...">
      <table class="dashboard-table">
        <thead>
          <tr>
            <th>Título</th>
            <th>Categoria</th>
            <th>Preço</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody id="productList"></tbody>
      </table>
      <button class="btn" onclick="openProductModal()">Adicionar Novo Produto</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Store777 Premium. Todos os direitos reservados. | Suporte: admin@store777.com</p>
  </footer>

  <!-- Modal Admin -->
  <div id="adminModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeAdminModal()">&times;</span>
      <h2>Login Admin</h2>
      <input type="email" id="adminEmail" placeholder="Email">
      <input type="password" id="adminPass" placeholder="Senha">
      <button class="btn" onclick="loginAdmin()">Entrar</button>
    </div>
  </div>

  <!-- Modal Cadastro Produto -->
  <div id="productModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeProductModal()">&times;</span>
      <h2>Cadastrar Produto</h2>
      <input type="text" id="title" placeholder="Título do Produto">
      <textarea id="description" placeholder="Descrição detalhada"></textarea>
      <input type="number" id="price" placeholder="Preço (R$)" step="0.01">
      <input type="url" id="imageUrl" placeholder="URL da Imagem">
      <input type="url" id="checkoutLink" placeholder="Link Checkout Cacto">
      <select id="category">
        <option value="all">Categoria Geral</option>
        <option value="ebooks">eBooks</option>
        <option value="cursos">Cursos</option>
        <option value="apps">Apps</option>
        <option value="licencas">Licenças</option>
      </select>
      <button class="btn" onclick="addProduct()">Adicionar Produto</button>
    </div>
  </div>

  <!-- Botão WhatsApp -->
  <a href="https://wa.me/5511999999999?text=Oi, interesse em um produto da Store777!" class="whatsapp-btn" target="_blank">
    <i class="fab fa-whatsapp"></i>
  </a>

  <script>
    // Senha atualizada para @Nego159
    const ADMIN_EMAIL = 'admin@store777.com';
    const ADMIN_PASSWORD = '@Nego159';
    let isLoggedIn = false;
    let products = JSON.parse(localStorage.getItem('store777Products') || '[]');

    function loadProducts(filter = 'all') {
      const container = document.getElementById('products');
      container.innerHTML = '';
      const filteredProducts = filter === 'all' ? products : products.filter(p => p.category === filter);
      if (filteredProducts.length === 0) {
        container.innerHTML = '<p style="text-align: center; grid-column: 1/-1; color: var(--text-muted);">Nenhum produto nesta categoria.</p>';
        return;
      }
      filteredProducts.forEach(product => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <img src="${product.imageUrl}" alt="${product.title}" class="product-img" onerror="this.src='https://via.placeholder.com/300x250?text=Imagem+Não+Carregada'">
          <div class="product-info">
            <span class="product-category">${product.category.toUpperCase()}</span>
            <h3 class="product-title">${product.title}</h3>
            <p>${product.description.substring(0, 100)}...</p>
            <div class="product-price">R$ ${product.price}</div>
            <button class="buy-btn" onclick="buyProduct('${product.checkoutLink}')">Comprar Agora</button>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function openAdminModal() {
      if (isLoggedIn) {
        document.getElementById('productModal').style.display = 'flex';
      } else {
        document.getElementById('adminModal').style.display = 'flex';
      }
    }
    function closeAdminModal() { document.getElementById('adminModal').style.display = 'none'; }
    function closeProductModal() { document.getElementById('productModal').style.display = 'none'; }

    function loginAdmin() {
      const email = document.getElementById('adminEmail').value;
      const pass = document.getElementById('adminPass').value;
      if (email === ADMIN_EMAIL && pass === ADMIN_PASSWORD) {
        isLoggedIn = true;
        closeAdminModal();
        alert('Login realizado com sucesso!');
        document.querySelector('.admin-btn').innerHTML = 'Admin <i class="fas fa-user"></i>';
        document.querySelector('.admin-btn').onclick = () => toggleDashboard();
      } else {
        alert('Email ou senha incorretos!');
      }
    }

    function toggleDashboard() {
      const dashboard = document.getElementById('dashboard');
      dashboard.style.display = dashboard.style.display === 'block' ? 'none' : 'block';
      if (dashboard.style.display === 'block') {
        loadDashboard();
      }
    }

    function loadDashboard() {
      const totalProducts = products.length;
      const totalCategories = new Set(products.map(p => p.category)).size;

      document.getElementById('totalProducts').innerText = totalProducts;
      document.getElementById('totalCategories').innerText = totalCategories;

      const productList = document.getElementById('productList');
      productList.innerHTML = '';
      products.forEach((p, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${p.title}</td>
          <td>${p.category}</td>
          <td>R$ ${p.price}</td>
          <td>
            <button class="btn" onclick="editProduct(${index})">Editar</button>
            <button class="btn" onclick="deleteProduct(${index})">Excluir</button>
          </td>
        `;
        productList.appendChild(row);
      });

      document.getElementById('searchBar').addEventListener('input', searchProducts);
    }

    function searchProducts(e) {
      const search = e.target.value.toLowerCase();
      const rows = document.querySelectorAll('#productList tr');
      rows.forEach(row => {
        row.style.display = row.textContent.toLowerCase().includes(search) ? '' : 'none';
      });
    }

    function editProduct(index) {
      const p = products[index];
      document.getElementById('title').value = p.title;
      document.getElementById('description').value = p.description;
      document.getElementById('price').value = p.price;
      document.getElementById('imageUrl').value = p.imageUrl;
      document.getElementById('checkoutLink').value = p.checkoutLink;
      document.getElementById('category').value = p.category;
      openProductModal();
      // Para salvar edição, usamos um flag temporário
      const saveBtn = document.querySelector('#productModal .btn');
      saveBtn.onclick = () => updateProduct(index);
    }

    function updateProduct(index) {
      products[index] = {
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        price: document.getElementById('price').value,
        imageUrl: document.getElementById('imageUrl').value,
        checkoutLink: document.getElementById('checkoutLink').value,
        category: document.getElementById('category').value
      };
      localStorage.setItem('store777Products', JSON.stringify(products));
      closeProductModal();
      loadProducts();
      loadDashboard();
      alert('Produto atualizado!');
      document.getElementById('productModal').querySelectorAll('input, textarea, select').forEach(el => el.value = '');
      const saveBtn = document.querySelector('#productModal .btn');
      saveBtn.onclick = addProduct;
    }

    function deleteProduct(index) {
      if (confirm('Tem certeza que deseja excluir este produto?')) {
        products.splice(index, 1);
        localStorage.setItem('store777Products', JSON.stringify(products));
        loadProducts();
        loadDashboard();
        alert('Produto excluído!');
      }
    }

    function logoutAdmin() {
      isLoggedIn = false;
      document.querySelector('.admin-btn').innerHTML = 'Admin';
      document.querySelector('.admin-btn').onclick = openAdminModal;
      document.getElementById('dashboard').style.display = 'none';
      alert('Logout realizado!');
    }

    function addProduct() {
      const title = document.getElementById('title').value;
      const description = document.getElementById('description').value;
      const price = document.getElementById('price').value;
      const imageUrl = document.getElementById('imageUrl').value;
      const checkoutLink = document.getElementById('checkoutLink').value;
      const category = document.getElementById('category').value;

      if (!title || !description || !price || !checkoutLink || !imageUrl) {
        alert('Preencha todos os campos!');
        return;
      }

      const newProduct = { title, description, price, imageUrl, checkoutLink, category };
      products.push(newProduct);
      localStorage.setItem('store777Products', JSON.stringify(products));
      closeProductModal();
      loadProducts();
      alert('Produto adicionado com sucesso!');
      document.getElementById('productModal').querySelectorAll('input, textarea, select').forEach(el => el.value = '');
    }

    function buyProduct(link) {
      if (link) window.open(link, '_blank');
      else alert('Link de pagamento não configurado.');
    }

    document.querySelectorAll('.category-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelectorAll('.category-link').forEach(l => l.classList.remove('active'));
        e.target.classList.add('active');
        loadProducts(e.target.dataset.category);
      });
    });

    window.addEventListener('load', () => loadProducts());
  </script>
</body>
</html>
